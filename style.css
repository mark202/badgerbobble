html, body {
    height: 100%;
}

body {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    overflow: hidden;
    touch-action: none;
    overscroll-behavior: none;
    background: radial-gradient(circle at 18% 18%, rgba(18, 90, 72, 0.45), rgba(4, 20, 14, 0.2)), linear-gradient(180deg, #02110c 0%, #0a271c 46%, #04150f 100%);
    font-family: 'Trebuchet MS', 'Segoe UI', sans-serif;
    color: #f0f4ff;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
    position: relative;
}

body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at 30% 25%, rgba(46, 120, 96, 0.28), transparent 65%),
        radial-gradient(circle at 70% 30%, rgba(24, 84, 66, 0.28), transparent 70%),
        radial-gradient(circle at 45% 70%, rgba(12, 48, 36, 0.32), transparent 72%);
    opacity: 0.65;
    pointer-events: none;
    z-index: -2;
}

body::after {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at 18% 18%, rgba(210, 255, 230, 0.2) 0%, rgba(28, 104, 82, 0.35) 38%, transparent 72%),
        radial-gradient(circle at 80% 24%, rgba(188, 255, 210, 0.18) 0%, rgba(22, 80, 62, 0.3) 36%, transparent 70%);
    pointer-events: none;
    z-index: -1;
}

.game-stage {
    position: relative;
    width: 100vw;
    height: 100vh;
    max-width: 1280px;
    max-height: 720px;
    display: flex;
    align-items: center;
    justify-content: center;
}

canvas {
    width: 100%;
    height: 100%;
    border: none;
    background: transparent;
    display: block;
    box-shadow: 0 30px 70px rgba(5, 11, 22, 0.7);
    border-radius: 20px;
    overflow: hidden;
}

.joystick-wrapper {
    position: fixed;
    bottom: clamp(20px, 6vh, 40px);
    width: clamp(96px, 28vw, 140px);
    height: clamp(96px, 28vw, 140px);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.85;
    pointer-events: none;
    z-index: 5;
}

.joystick-left {
    left: clamp(20px, 6vw, 40px);
}

.joystick {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: rgba(11, 28, 44, 0.55);
    border: 2px solid rgba(240, 244, 255, 0.35);
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: auto;
    touch-action: none;
    backdrop-filter: blur(4px);
    position: relative;
}

.joystick-knob {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.85), rgba(120, 180, 220, 0.65));
    border: 2px solid rgba(255, 255, 255, 0.55);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35);
    transform: translate3d(0, 0, 0);
    transition: transform 0.12s ease-out;
}


.action-buttons {
    position: fixed;
    bottom: clamp(24px, 7vh, 56px);
    right: clamp(24px, 7vw, 56px);
    display: flex;
    gap: clamp(14px, 4vw, 26px);
    pointer-events: none;
    z-index: 5;
}

.action-button {
    pointer-events: auto;
    touch-action: none;
    width: clamp(70px, 20vw, 92px);
    height: clamp(70px, 20vw, 92px);
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.5);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.92), rgba(96, 168, 216, 0.75));
    box-shadow: 0 10px 26px rgba(0, 0, 0, 0.45);
    color: #0b1c2c;
    font-size: clamp(0.8rem, 2.2vw, 1.1rem);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.95;
    transition: transform 0.12s ease-out, box-shadow 0.12s ease-out;
}

.action-button:active,
.action-button.is-active {
    transform: scale(0.92);
    box-shadow: 0 5px 14px rgba(0, 0, 0, 0.45);
}

.action-button--jump {
    background: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.95), rgba(140, 230, 170, 0.85));
}

.action-button--fire {
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.92), rgba(255, 140, 100, 0.88));
}

.action-button span {
    pointer-events: none;
}

@media (hover: hover) and (pointer: fine) {
    .joystick-wrapper {
        display: none;
    }

    .action-buttons {
        display: none;
    }
}
